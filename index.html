<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Dice Roller API Test</title>
    <style>
        #urlInput {
            width: 500px; 
            padding: 10px;
            font-size: 14px;
        }
    </style>
  </head>
  <body>
    <h1>Dice Roller API Test</h1>
    <label for="urlInput">API Server URL:</label><br />
    <input type="text" id="urlInput" placeholder="Enter the URL of your API server here..."><br /><br />
    
    <button onclick="testPing()">Test Ping</button>
    <div id="ping-result"></div><br />

    <button onclick="rollDice()">Roll Dice</button>
    <div id="dice-result"></div><br />

    <script>
        async function testPing() {
            const url = document.getElementById("urlInput").value + "/api/ping";
            try {
                const response = await fetch(url);
                const text = await response.text();
                document.getElementById("ping-result").innerText = text;
            } catch (error) {
                document.getElementById("ping-result").innerText = "CORS failure or network error.";
            }
        }

        async function rollDice() {
            const url = document.getElementById("urlInput").value + "/api/roll-dice?sides=6&rolls=3";
            try {
                const response = await fetch(url);
                const json = await response.json();
                document.getElementById("dice-result").innerText = `Rolls: ${json.results.join(", ")}`;
            } catch (error) {
                document.getElementById("dice-result").innerText = "CORS failure or network error.";
            }
        }
    </script>
  </body>
</html>
